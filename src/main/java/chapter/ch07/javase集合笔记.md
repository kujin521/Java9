# 集合

> 1. Collection 接口为所有集合提供了共同方法(映射是通过Map接口描述的)
> 2. 列表是一个有序集合 其中的每一个元素都有一个整数索引
> 3. set针对包含测试进行优化 java提供HashSet 和 TreeSet 实现
> 4. 对映射来时 你可以选择HashMap或TreeMap实现 LinkedHasMap会记住元素插入的顺序
> 5. Collection接口和Collections类提供了很多算法 设置操作 查询 排序 打乱原先元素
> 6. 视图通过使用标准接口提供对存储在其他地方的数据访问

## 1 集合框架概要

List 一个有序集合 索引从0开始

ArrrayList LinkedList实现List接口

> 链表 由一系列连接接着的节点组成的序列 每个字节都携带一个元素
>
> 链表中插入-只需拼接节点即可

![image-20201031100021891](https://raw.githubusercontent.com/kujin521/Typora_images/master/img/%E9%9B%86%E5%90%88Collection.png)

有序的collection（也称为序列）。 

此接口的用户具有其中列表中的每个元素被插入在精确的控制。 用户可以通过他们的整数索引（在列表中的位置）访问元素，并搜索列表中的元素。
set不同，列表通常允许重复的元素。 更正式地说，列表通常允许元素对e1和e2 ，使得e1.equals(e2)它们通常允许多个null元素，如果他们允许的null元素。 这是不难想象，有人可能希望实现禁止复制，通过抛出运行时异常，当用户试图插入一个名单，但我们希望这种用法是罕见的。
该List界面放置额外的约定，超过指定Collection界面上的合同iterator ， add ， remove ， equals和hashCode方法。 其他继承方法的声明惯例，还包括在内。
该List接口提供用于位置（索引）访问列表元素四种方法。 列表（像Java数组）是从零开始的。 注意，这些操作可以在时间正比于对于某些实现的索引值执行（该LinkedList类，例如）。 因此，遍历在列表中的元素通常优选的是通过它的索引，如果调用者不知道实现。
该List界面提供了一个特殊的迭代器，称为ListIterator ，它允许元素插入和替换，以及除该正常操作的双向访问Iterator接口提供。 本发明提供一种方法来获得的列表迭代，在列表中的指定位置开始。
该List界面提供了两种方法来搜索指定的对象。 从性能的角度来看，这些方法应谨慎使用。 在很多实现中，它们将执行高开销的线性搜索。
的List界面提供了两种方法高效地插入和在列表中的任意点移除多个元件。
注：虽然列表允许把自身作为元素包含，格外小心，建议：在equals和hashCode方法不再这样一份清单上明确界定。
有些列表实现对它们可能包含的元素有限制。 例如，某些实现禁止null元素，以及一些对他们的类型元素的限制。 试图添加不合格的元素会抛出未经检查的异常，通常是NullPointerException或ClassCastException 。 试图查询不合格的元素的存在可能抛出异常，或者它可以简单地返回false; 一些实现会采用前一种行为，而某些则是后者。 更一般地，对不合格元素完成不会导致不合格的元素到列表中的插入可能会抛出异常，也可能成功，在实现的选择上尝试的操作。 这样的异常标记为在此接口的规范“可选”。
不可变列表静态工厂方法
该List.of()静态工厂方法提供了一种方便的方式来创建不可改变的名单。 该List由这些方法创建的实例有以下特点：
它们在结构不变。 元素不能被添加，移除或替换。 调用任何赋值函数方法将总是导致UnsupportedOperationException被抛出。 但是，如果包含的元素本身是可变的，这可能会导致该列表的内容出现变化。
他们不允许null元素。 尝试与创建它们null因素导致NullPointerException 。
他们是序列化，如果所有元素都是可序列化。
列表中的元素的顺序是相同的设置参数，或所提供的阵列中的元素的顺序。
他们是价值为基础。 主叫方不应对返回的实例的身份的假设。 工厂可以自由地创建新实例或重复使用现有的。 因此，在这些情况下身份敏感的操作（参考平等（ == ），身份哈希码和同步）是不可靠的并且应该避免。
在上指定它们将被序列化表格页面。
此接口是成员的Java集合框架。



具体方法

![image-20201031100204364](https://raw.githubusercontent.com/kujin521/Typora_images/master/img/Collection_method.png)



## 2 迭代器

![image-20201031100924151](https://raw.githubusercontent.com/kujin521/Typora_images/master/img/iterator.png)



## 3 set

> 不包含重复元素的集合

- HashSet

  这个类实现了Set接口，支持由哈希表（实际上是一个HashMap实例）。 它不保证为向集合的迭代顺序; 特别是，它不保证该顺序恒久不变。 此类允许null元素。

  注意，此实现不是同步的

  Set s = Collections.synchronizedSet(new HashSet(...));

- TreeSet

  一个NavigableSet基础上实现TreeMap 。 这些元素使用其定购的自然排序，或者通过Comparator集合创建时提供，具体取决于使用的构造

  注意，此实现不是同步的



## 4 map

将键映射到值的对象。 一个映射不能包含重复的键; 每个键可以最多一个值映射到。
这个接口替换了的地方Dictionary类，这是一个完全的抽象类，而不是一个接口。
所述Map界面提供了三个集合视图，

- HashMap

  基于哈希表中的Map界面。 此实现提供所有可选的映射操作，并允许null值和null键。 （该HashMap类大致相当于Hashtable ，但它是不同步的，并允许空值。）此类不保证作为对地图的顺序; 特别是，它不保证该顺序恒久不变

- TreeMap

  红黑树的基础NavigableMap实现。 该地图是根据排序自然排序其密钥，或通过Comparator在地图创建时提供，这取决于所使用的构造方法。

- LinkedHashMap

  哈希表和链接列表实现的Map界面，具有可预知的迭代顺序。

   这种实现不同于HashMap ，因为它保持于所有条目的运行双向链表。

## 5 其他集合

### Properties 属性集合

### BitSet 位组

## 枚举set和枚举map

### 栈 队列 双端队列 优先级队列

- 栈(stack)

  在一端(栈顶) 进行添加和删除元素的数据结构

- 队列(queue)

  在尾端 添加元素 在头部删除元素

- 双端队列(deque)

  两端都进行插入和删除操作

- 优先级队列

### 弱哈希映射表



## 6 视图

集合视图view 是一个实现了集合接口的轻量级对象 但它不存在存储元素

### 小集合

获取固定的不可变集合

List.of()

Set.of()

Map.of()

### 范围

获取子列表视图

array.subList(5,10) 